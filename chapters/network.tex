\chapter{Network I/O Contention}\label{chapter:network}

\section{Throughput Contention}
\input{chapters/throughput/methodology.tex}
\input{chapters/throughput/results.tex}

\section{Latency}
\input{chapters/latency/methodology.tex}
\input{chapters/latency/results.tex}

\newpage
\section{Discussion}
For throughput, we found out that the (average) maximum degradation for any instance type 
can be approximated by the following formula. The bandwidth of the physical server is equal
to the bandwidth of the metal instance of the concerned family (if it's offered):
\[
\frac{\text{Bandwidth of physical server / Maximum number of nodes}}
     {\text{Baseline Bandwidth of the instance type}} \times 100
\]

\noindent
For all the instance types belonging to the m5 family except the large type, the maximum degradation 
relative to the baseline bandwidth is roughly 17\%, whereas for the large type it reaches 30\%. In 
their work, Loyd et. al \cite{characterizing_public}, found similar results using the m5d dedicated host,
which is similar to the m5 host, as they both have the same processor and number of vCPUs.  
For large instances, they observed a normalized performance degrdation equal to 94.6\% due to VM 
co-location. However this percentage is relative to the inital throughput of the first m5d.large, 
i.e., the burst bandwidth of 10 Gbps. It implies that the  average throughput at the end was 0.54 Gbit/s, 
very close to the results presented in Figure \ref{fig:boxplot}. Lloyd et. al also found
that degradation tends to increase with successive  VM generation, which can be explained by 
denser and larger physical servers capable of hosting an increasing number of tenants. \\ 
For latency, We measured an average degradation of 217\% with increasing aggregate throughput of the 
neighbors. We used the m5.4xlarge instance for our experiment. However, the results 
should be independent of the instance type, as the only influential factor is the aggregate 
throughput of the neighboring nodes. It's important to note that the datapoints exhibited 
very high variability and the results can significantly different between different runs. 
The percentile values, increasingly far from the mean, support this. 

